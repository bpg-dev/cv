{{ $experience := .experience }}
{{ if and $experience $experience.show }}
<section class="experience" style="order: {{ $experience.order | default 1 }}">
  <div class="section-title">
    <i class="section-icon fa-solid fa-briefcase" aria-hidden="true"></i>
    <h2>{{ $experience.title }}</h2>
  </div>

  <div class="section-content">
    {{ if and $experience.description (gt (len $experience.description) 0) }}
    <div class="description markdown">
      {{ $experience.description | markdownify }}
    </div>
    {{ end }}

    {{ if $experience.items }}
    <div class="items">
      {{ range $experience.items }}
      <div class="item">

        {{ if .company }}
        <div class="row">
          <div class="company">
            {{ if .link }}
            <a href="{{ .link }}" target="_blank" rel="noopener noreferrer">{{ .company }}</a>
            {{ else }}
            <span>{{ .company }}</span>
            {{ end }}
            {{ if .tags }}
            <small>[{{ .tags }}]</small>
            {{ end }}
          </div>
          <div class="date">
            <span>{{ .date }}</span>
          </div>
        </div>

        <div class="row">
          <div class="role">
            <span>{{ .role }}</span>
          </div>
          {{ if .location }}
          <div class="location">
            <i class="fa-solid fa-location-dot" aria-hidden="true"></i>
            <span>{{ .location }}</span>
          </div>
          {{ end }}
        </div>

        {{ if and .description (gt (len .description) 0) }}
        <div class="description markdown">
          {{ .description | markdownify }}
        </div>
        {{ end }}
        {{ end }}

      </div>
      {{ end }}
    </div>
    {{ end }}
  </div>
</section>
{{ end }}

